{"version":3,"file":"pointergestures.min.js","sources":["src/PointerGestureEvent.js","src/initialize.js","../WeakMap/weakmap.js","src/pointermap.js","src/dispatcher.js","src/hold.js","src/track.js","src/flick.js","src/pinch.js","src/tap.js","src/registerScopes.js"],"names":["PointerGestureEvent","inType","inDict","dict","e","document","createEvent","props","bubbles","Boolean","cancelable","initEvent","k","keys","Object","i","length","preventTap","this","prototype","tapPrevented","scope","utils","LCA","find","a","b","contains","adepth","depth","bdepth","d","walk","n","u","parentNode","findLCA","window","PointerGestures","WeakMap","defineProperty","counter","Date","now","name","Math","random","set","key","value","entry","writable","get","undefined","delete","PointerMap","USE_MAP","m","Map","pointers","POINTERS_FN","values","forEach","size","inId","inEvent","indexOf","push","has","splice","clear","callback","thisArg","v","call","CLONE_PROPS","CLONE_DEFAULTS","dispatcher","handledEvents","targets","handlers","recognizers","events","registerRecognizer","inName","inRecognizer","r","f","bind","addHandler","inFn","registerTarget","inTarget","listen","unregisterTarget","unlisten","eventHandler","type","fns","makeQueue","inHandlerFns","cloneEvent","requestAnimationFrame","runQueue","inHandlers","currentPointerId","pointerId","l","inEvents","addEvent","boundHandler","removeEvent","inEventName","inEventHandler","inCapture","addEventListener","removeEventListener","makeEvent","p","eventCopy","dispatchEvent","t","asyncDispatchEvent","inPointerId","tap","registerQueue","immediateRegister","register","inScope","pe","PointerEventsPolyfill","hold","HOLD_DELAY","WIGGLE_THRESHOLD","heldPointer","holdJob","pulse","timeStamp","held","fireHold","cancel","clearInterval","target","pointerdown","isPrimary","setInterval","pointerup","pointercancel","pointermove","x","clientX","y","clientY","inHoldTime","pointerType","holdTime","pointermap","track","clampDir","inDelta","calcPositionDelta","inA","inB","pageX","pageY","fireTrack","inTrackingData","downEvent","dd","lastMoveEvent","xDirection","yDirection","trackData","dx","dy","ddx","ddy","screenX","screenY","trackInfo","relatedTarget","downTarget","buttons","tracking","move","flick","MIN_VELOCITY","MAX_QUEUE","moveQueue","addMove","fireFlick","cleanup","shift","dt","tx","ty","tv","sqrt","ma","abs","calcAngle","ev","xVelocity","yVelocity","velocity","angle","majorAxis","inX","inY","atan2","PI","RAD_TO_DEG","pinch","reference","points","calcChord","diameter","calcPinchRotate","dispatchPinch","zoom","scale","centerX","center","centerY","dispatchRotate","diff","round","dist","j","start","shouldTap","downState","detail","keyup","code","keyCode","HTMLInputElement","HTMLTextAreaElement","registerScopes","rq","readyState"],"mappings":"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"}